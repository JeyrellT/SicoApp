/*! For license information please see 37.acc46a83.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksicop_app=self.webpackChunksicop_app||[]).push([[37],{1917:(e,a,r)=>{r.d(a,{E:()=>x});var t=r(9379),n=r(9950),o=r(6479);const i=(0,r(6230).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var s=r(8732),l=r(8541),d=r(4814),c=r(1742),p=r(4414);const x=e=>{let{categoryName:a,subcategories:r,onSave:x,onCancel:g}=e;const[b,u]=(0,n.useState)(r.length>0?r:[]),h=(e,a)=>{u(b.map(r=>r.id===e?(0,t.A)((0,t.A)({},r),a):r))};return(0,p.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:(0,p.jsxs)("div",{style:{background:"white",borderRadius:"16px",maxWidth:"900px",width:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[(0,p.jsxs)("div",{style:{padding:"24px",borderBottom:"1px solid #e0e0e0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("h2",{style:{margin:0,fontSize:"24px",fontWeight:700},children:"Editar Subcategor\xedas"}),(0,p.jsxs)("div",{style:{fontSize:"14px",color:"#666",marginTop:"4px"},children:["Categor\xeda: ",(0,p.jsx)("strong",{children:a})]})]}),(0,p.jsx)("button",{onClick:g,style:{background:"transparent",border:"none",cursor:"pointer",padding:"8px"},children:(0,p.jsx)(o.A,{size:24,color:"#666"})})]}),(0,p.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:[(0,p.jsxs)("div",{style:{background:"#e3f2fd",border:"1px solid #2196f3",borderRadius:"8px",padding:"16px",marginBottom:"24px",fontSize:"14px"},children:[(0,p.jsx)("strong",{children:"\ud83d\udca1 Subcategor\xedas:"})," Permiten una clasificaci\xf3n m\xe1s detallada dentro de esta categor\xeda. Define palabras clave espec\xedficas para cada subcategor\xeda."]}),(0,p.jsxs)("button",{onClick:()=>{const e={id:"subcat_".concat(Date.now(),"_").concat(Math.random().toString(36).slice(2,9)),nombre:"",palabrasClave:[],activa:!0};u([...b,e])},style:{width:"100%",padding:"12px",background:"#f0f0f0",border:"2px dashed #ccc",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",color:"#666",fontWeight:600,marginBottom:"16px",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#e0e0e0",e.currentTarget.style.borderColor="#999"},onMouseLeave:e=>{e.currentTarget.style.background="#f0f0f0",e.currentTarget.style.borderColor="#ccc"},children:[(0,p.jsx)(i,{size:20}),"Agregar Subcategor\xeda"]}),(0,p.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:0===b.length?(0,p.jsx)("div",{style:{padding:"40px",textAlign:"center",color:"#999",fontSize:"14px"},children:'No hay subcategor\xedas definidas. Haz clic en "Agregar Subcategor\xeda" para crear una.'}):b.map(e=>(0,p.jsx)("div",{style:{background:e.activa?"white":"#f8f9fa",border:"1px solid #e0e0e0",borderRadius:"8px",padding:"16px"},children:(0,p.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"start"},children:[(0,p.jsxs)("button",{onClick:()=>{return a=e.id,void u(b.map(e=>e.id===a?(0,t.A)((0,t.A)({},e),{},{activa:!e.activa}):e));var a},style:{background:e.activa?"#27ae60":"#95a5a6",border:"none",borderRadius:"20px",padding:"6px 12px",cursor:"pointer",color:"white",fontSize:"12px",fontWeight:600,display:"flex",alignItems:"center",gap:"4px",flexShrink:0},children:[e.activa?(0,p.jsx)(s.A,{size:16}):(0,p.jsx)(l.A,{size:16}),e.activa?"ON":"OFF"]}),(0,p.jsxs)("div",{style:{flex:1},children:[(0,p.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,p.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#666",marginBottom:"4px"},children:"Nombre de Subcategor\xeda"}),(0,p.jsx)("input",{type:"text",value:e.nombre,onChange:a=>h(e.id,{nombre:a.target.value}),placeholder:"Ej: Software de Oficina",style:{width:"100%",padding:"8px 12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px",outline:"none"}})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#666",marginBottom:"4px"},children:"Palabras Clave (separadas por comas)"}),(0,p.jsx)("input",{type:"text",value:e.palabrasClave.join(", "),onChange:a=>((e,a)=>{const r=a.split(",").map(e=>e.trim()).filter(Boolean);h(e,{palabrasClave:r})})(e.id,a.target.value),placeholder:"office, word, excel, powerpoint",style:{width:"100%",padding:"8px 12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px",outline:"none"}}),e.palabrasClave.length>0&&(0,p.jsx)("div",{style:{marginTop:"8px",display:"flex",flexWrap:"wrap",gap:"4px"},children:e.palabrasClave.map((e,a)=>(0,p.jsx)("span",{style:{background:"#e0e0e0",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",color:"#333"},children:e},a))})]})]}),(0,p.jsx)("button",{onClick:()=>{return a=e.id,void u(b.filter(e=>e.id!==a));var a},style:{background:"transparent",border:"none",cursor:"pointer",color:"#e74c3c",padding:"8px",flexShrink:0},title:"Eliminar subcategor\xeda",children:(0,p.jsx)(d.A,{size:20})})]})},e.id))})]}),(0,p.jsxs)("div",{style:{padding:"24px",borderTop:"1px solid #e0e0e0",display:"flex",justifyContent:"flex-end",gap:"12px"},children:[(0,p.jsxs)("button",{onClick:g,style:{padding:"10px 20px",background:"#e0e0e0",color:"#333",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px"},children:[(0,p.jsx)(o.A,{size:18}),"Cancelar"]}),(0,p.jsxs)("button",{onClick:()=>{b.every(e=>""!==e.nombre.trim())?x(b):alert("Todas las subcategor\xedas deben tener un nombre")},style:{padding:"10px 20px",background:"#2196f3",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px"},children:[(0,p.jsx)(c.A,{size:18}),"Guardar Subcategor\xedas"]})]})]})})}},4814:(e,a,r)=>{r.d(a,{A:()=>t});const t=(0,r(6230).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},8037:(e,a,r)=>{r.r(a),r.d(a,{CategoryConfigView:()=>j});var t=r(9950),n=r(6615),o=r(9318),i=r(2828),s=r(3147),l=r(6355),d=r(6230);const c=(0,d.A)("power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]),p=(0,d.A)("power-off",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),x=(0,d.A)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),g=(0,d.A)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),b=(0,d.A)("layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);var u=r(3655);const h=(0,d.A)("pen-line",[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);var f=r(8732),y=r(8541),m=r(1917),v=r(4414);const j=()=>{const[e,a]=(0,t.useState)([]),[r,d]=(0,t.useState)(!0),[j,k]=(0,t.useState)(""),[S,w]=(0,t.useState)("all"),[z,C]=(0,t.useState)("all"),[T,A]=(0,t.useState)(null),M=async()=>{d(!0);try{const e=await n.M.getAllCategoriesWithConfig();a(e)}catch(e){console.error("Error cargando categor\xedas:",e)}finally{d(!1)}};(0,t.useEffect)(()=>{M()},[]);const W=e.filter(e=>{if(j){var a;const r=j.toLowerCase(),t=e.nombre.toLowerCase().includes(r),n=null===(a=e.palabrasClave)||void 0===a?void 0:a.some(e=>e.toLowerCase().includes(r));if(!t&&!n)return!1}return("all"===S||e.tipo===S)&&(!("active"===z&&!e.activa)&&("inactive"!==z||!e.activa))}),I={total:e.length,sistema:e.filter(e=>"sistema"===e.tipo).length,manual:e.filter(e=>"manual"===e.tipo).length,activas:e.filter(e=>e.activa).length,inactivas:e.filter(e=>!e.activa).length};return r?(0,v.jsx)("div",{style:{padding:"40px",textAlign:"center"},children:(0,v.jsx)("div",{style:{fontSize:"18px",color:"#666"},children:"Cargando configuraci\xf3n..."})}):(0,v.jsxs)("div",{style:{padding:"0",maxWidth:"1800px",margin:"0 auto",minHeight:"100vh"},children:[(0,v.jsxs)("div",{style:{marginBottom:"48px",background:"linear-gradient(135deg, rgba(30, 58, 138, 0.98) 0%, rgba(29, 78, 216, 0.95) 50%, rgba(37, 99, 235, 0.92) 100%)",backdropFilter:"blur(25px) saturate(180%)",WebkitBackdropFilter:"blur(25px) saturate(180%)",padding:"48px 60px",boxShadow:"\n          0 20px 60px rgba(30, 58, 138, 0.5),\n          0 10px 30px rgba(29, 78, 216, 0.4),\n          0 5px 15px rgba(0, 0, 0, 0.3),\n          inset 0 1px 0 rgba(255, 255, 255, 0.5),\n          inset 0 -1px 0 rgba(0, 0, 0, 0.3)\n        ",borderBottom:"3px solid rgba(255, 255, 255, 0.4)",position:"relative",overflow:"hidden",perspective:"1500px",transformStyle:"preserve-3d",animation:"fadeInDown 0.8s cubic-bezier(0.34, 1.56, 0.64, 1)",willChange:"transform, opacity"},children:[(0,v.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,height:"3px",background:"linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.8), transparent)",backgroundSize:"200% 100%",animation:"shimmer 3s linear infinite",willChange:"background-position"}}),(0,v.jsx)("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:"\n            radial-gradient(circle at 20% 30%, rgba(59, 130, 246, 0.3) 0%, transparent 50%),\n            radial-gradient(circle at 80% 60%, rgba(96, 165, 250, 0.25) 0%, transparent 50%),\n            radial-gradient(circle at 50% 50%, rgba(37, 99, 235, 0.2) 0%, transparent 60%)\n          ",pointerEvents:"none",mixBlendMode:"overlay",animation:"pulseGlow 4s ease-in-out infinite",willChange:"opacity"}}),(0,v.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"20px",marginBottom:"16px",position:"relative",zIndex:1,transform:"translateZ(30px)"},children:[(0,v.jsx)("div",{onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.2) rotate(10deg)",e.currentTarget.style.filter="drop-shadow(0 0 20px rgba(255, 255, 255, 0.8))"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1) rotate(0deg)",e.currentTarget.style.filter="none"},style:{transition:"all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)",willChange:"transform"},children:(0,v.jsx)(o.A,{size:48,color:"white",strokeWidth:2.5})}),(0,v.jsx)("h2",{style:{margin:0,fontSize:"3.2em",fontWeight:900,color:"white",textShadow:"\n              0 2px 4px rgba(0, 0, 0, 0.3),\n              0 4px 8px rgba(0, 0, 0, 0.2),\n              0 8px 16px rgba(0, 0, 0, 0.1),\n              0 0 40px rgba(255, 255, 255, 0.3)\n            ",letterSpacing:"-1.5px",animation:"scaleIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.2s both",willChange:"transform"},children:"Configuraci\xf3n de Categor\xedas"})]}),(0,v.jsx)("p",{style:{color:"rgba(255, 255, 255, 0.95)",fontSize:"1.2em",margin:0,fontWeight:600,textShadow:"\n            0 1px 2px rgba(0, 0, 0, 0.3),\n            0 2px 4px rgba(0, 0, 0, 0.2),\n            0 0 20px rgba(255, 255, 255, 0.2)\n          ",letterSpacing:"0.3px",position:"relative",zIndex:1,transform:"translateZ(20px)",animation:"fadeInUp 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) 0.4s both",willChange:"transform, opacity"},children:"Active o desactive categor\xedas para controlar c\xf3mo se clasifican los carteles. Los cambios afectar\xe1n todos los dashboards y an\xe1lisis."}),(0,v.jsx)("style",{children:"\n          @keyframes fadeInDown {\n            from {\n              opacity: 0;\n              transform: translateY(-30px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n          @keyframes shimmer {\n            0% { background-position: -200% center; }\n            100% { background-position: 200% center; }\n          }\n          @keyframes pulseGlow {\n            0%, 100% { opacity: 0.6; }\n            50% { opacity: 0.9; }\n          }\n          @keyframes scaleIn {\n            from {\n              opacity: 0;\n              transform: scale(0.9) rotateX(10deg);\n            }\n            to {\n              opacity: 1;\n              transform: scale(1) rotateX(0deg);\n            }\n          }\n          @keyframes fadeInUp {\n            from {\n              opacity: 0;\n              transform: translateY(20px);\n            }\n            to {\n              opacity: 1;\n              transform: translateY(0);\n            }\n          }\n        "})]}),(0,v.jsxs)("div",{style:{padding:"0 60px 60px"},children:[(0,v.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(180, 83, 9, 0.95) 0%, rgba(217, 119, 6, 0.92) 50%, rgba(245, 158, 11, 0.9) 100%)",backdropFilter:"blur(25px) saturate(180%)",WebkitBackdropFilter:"blur(25px) saturate(180%)",border:"3px solid rgba(255, 255, 255, 0.4)",borderRadius:"20px",padding:"24px",marginBottom:"32px",display:"flex",gap:"16px",alignItems:"start",boxShadow:"\n          0 20px 60px rgba(180, 83, 9, 0.35),\n          0 8px 16px rgba(0, 0, 0, 0.2),\n          inset 0 1px 0 rgba(255, 255, 255, 0.3),\n          inset 0 -1px 0 rgba(0, 0, 0, 0.2)\n        ",animation:"fadeInUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.3s both",willChange:"transform, opacity"},children:[(0,v.jsx)(i.A,{size:28,color:"white",strokeWidth:2.5}),(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{style:{fontWeight:700,marginBottom:"8px",color:"white",fontSize:"1.1em",letterSpacing:"0.02em",textShadow:"0 2px 8px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.5)"},children:"\u26a0\ufe0f Impacto en Dashboards"}),(0,v.jsx)("div",{style:{fontSize:"0.95em",color:"rgba(255, 255, 255, 0.95)",lineHeight:1.6,textShadow:"0 1px 4px rgba(0, 0, 0, 0.3)"},children:"Al desactivar una categor\xeda, los carteles que pertenec\xedan a ella se reclasificar\xe1n autom\xe1ticamente. Esto afectar\xe1 gr\xe1ficos, estad\xedsticas y filtros en todo el sistema."})]})]}),(0,v.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"20px",marginBottom:"32px",animation:"fadeInUp 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) 0.4s both",willChange:"transform, opacity"},children:[(0,v.jsxs)("div",{onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-8px) scale(1.03) rotateX(5deg)",e.currentTarget.style.boxShadow="\n              0 16px 40px rgba(44, 62, 80, 0.25),\n              0 8px 20px rgba(0, 0, 0, 0.15),\n              inset 0 1px 0 rgba(255, 255, 255, 0.5)\n            "},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0) scale(1) rotateX(0)",e.currentTarget.style.boxShadow="\n              0 8px 24px rgba(44, 62, 80, 0.15),\n              inset 0 1px 0 rgba(255, 255, 255, 0.3)\n            "},style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 249, 250, 0.9) 100%)",backdropFilter:"blur(20px) saturate(150%)",WebkitBackdropFilter:"blur(20px) saturate(150%)",padding:"28px",borderRadius:"16px",border:"1px solid rgba(44, 62, 80, 0.15)",boxShadow:"\n              0 8px 24px rgba(44, 62, 80, 0.15),\n              inset 0 1px 0 rgba(255, 255, 255, 0.3)\n            ",transition:"all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)",willChange:"transform, box-shadow"},children:[(0,v.jsx)("div",{style:{fontSize:"0.85em",color:"#1e293b",marginBottom:"12px",fontWeight:600,letterSpacing:"0.5px",textTransform:"uppercase"},children:"Total Categor\xedas"}),(0,v.jsx)("div",{style:{fontSize:"2.8em",fontWeight:800,color:"#2c3e50",letterSpacing:"-1px",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"},children:I.total})]}),(0,v.jsxs)("div",{onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-8px) scale(1.03) rotateX(5deg)",e.currentTarget.style.boxShadow="\n              0 16px 40px rgba(30, 58, 138, 0.35),\n              0 8px 20px rgba(59, 130, 246, 0.25),\n              inset 0 1px 0 rgba(255, 255, 255, 0.5)\n            "},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0) scale(1) rotateX(0)",e.currentTarget.style.boxShadow="\n              0 8px 24px rgba(30, 58, 138, 0.2),\n              inset 0 1px 0 rgba(255, 255, 255, 0.3)\n            "},style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(239, 246, 255, 0.92) 100%)",backdropFilter:"blur(20px) saturate(150%)",WebkitBackdropFilter:"blur(20px) saturate(150%)",padding:"28px",borderRadius:"16px",border:"2px solid rgba(59, 130, 246, 0.3)",boxShadow:"\n              0 8px 24px rgba(30, 58, 138, 0.2),\n              inset 0 1px 0 rgba(255, 255, 255, 0.3)\n            ",transition:"all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)",willChange:"transform, box-shadow"},children:[(0,v.jsx)("div",{style:{fontSize:"0.85em",color:"#1e293b",marginBottom:"12px",fontWeight:600,letterSpacing:"0.5px",textTransform:"uppercase"},children:"Del Sistema"}),(0,v.jsx)("div",{style:{fontSize:"2.8em",fontWeight:800,color:"#3498db",letterSpacing:"-1px",textShadow:"0 2px 4px rgba(52, 152, 219, 0.2)"},children:I.sistema})]}),(0,v.jsxs)("div",{onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-8px) scale(1.03) rotateX(5deg)",e.currentTarget.style.boxShadow="\n              0 16px 40px rgba(126, 34, 206, 0.35),\n              0 8px 20px rgba(147, 51, 234, 0.25),\n              inset 0 1px 0 rgba(255, 255, 255, 0.5)\n            "},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0) scale(1) rotateX(0)",e.currentTarget.style.boxShadow="\n              0 8px 24px rgba(126, 34, 206, 0.2),\n              inset 0 1px 0 rgba(255, 255, 255, 0.3)\n            "},style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(250, 245, 255, 0.92) 100%)",backdropFilter:"blur(20px) saturate(150%)",WebkitBackdropFilter:"blur(20px) saturate(150%)",padding:"28px",borderRadius:"16px",border:"2px solid rgba(147, 51, 234, 0.3)",boxShadow:"\n              0 8px 24px rgba(126, 34, 206, 0.2),\n              inset 0 1px 0 rgba(255, 255, 255, 0.3)\n            ",transition:"all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)",willChange:"transform, box-shadow"},children:[(0,v.jsx)("div",{style:{fontSize:"0.85em",color:"#1e293b",marginBottom:"12px",fontWeight:600,letterSpacing:"0.5px",textTransform:"uppercase"},children:"Manuales"}),(0,v.jsx)("div",{style:{fontSize:"2.8em",fontWeight:800,color:"#7e22ce",letterSpacing:"-1px",textShadow:"0 2px 4px rgba(126, 34, 206, 0.2)"},children:I.manual})]}),(0,v.jsxs)("div",{onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-8px) scale(1.03) rotateX(5deg)",e.currentTarget.style.boxShadow="\n              0 16px 40px rgba(22, 163, 74, 0.35),\n              0 8px 20px rgba(34, 197, 94, 0.25),\n              inset 0 1px 0 rgba(255, 255, 255, 0.5)\n            "},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0) scale(1) rotateX(0)",e.currentTarget.style.boxShadow="\n              0 8px 24px rgba(22, 163, 74, 0.2),\n              inset 0 1px 0 rgba(255, 255, 255, 0.3)\n            "},style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(240, 253, 244, 0.92) 100%)",backdropFilter:"blur(20px) saturate(150%)",WebkitBackdropFilter:"blur(20px) saturate(150%)",padding:"28px",borderRadius:"16px",border:"2px solid rgba(34, 197, 94, 0.3)",boxShadow:"\n              0 8px 24px rgba(22, 163, 74, 0.2),\n              inset 0 1px 0 rgba(255, 255, 255, 0.3)\n            ",transition:"all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)",willChange:"transform, box-shadow"},children:[(0,v.jsx)("div",{style:{fontSize:"0.85em",color:"#1e293b",marginBottom:"12px",fontWeight:600,letterSpacing:"0.5px",textTransform:"uppercase"},children:"Activas"}),(0,v.jsx)("div",{style:{fontSize:"2.8em",fontWeight:800,color:"#16a34a",letterSpacing:"-1px",textShadow:"0 2px 4px rgba(22, 163, 74, 0.2)"},children:I.activas})]}),(0,v.jsxs)("div",{onMouseEnter:e=>{e.currentTarget.style.transform="translateY(-8px) scale(1.03) rotateX(5deg)",e.currentTarget.style.boxShadow="\n              0 16px 40px rgba(220, 38, 38, 0.35),\n              0 8px 20px rgba(239, 68, 68, 0.25),\n              inset 0 1px 0 rgba(255, 255, 255, 0.5)\n            "},onMouseLeave:e=>{e.currentTarget.style.transform="translateY(0) scale(1) rotateX(0)",e.currentTarget.style.boxShadow="\n              0 8px 24px rgba(220, 38, 38, 0.2),\n              inset 0 1px 0 rgba(255, 255, 255, 0.3)\n            "},style:{background:"linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(254, 242, 242, 0.92) 100%)",backdropFilter:"blur(20px) saturate(150%)",WebkitBackdropFilter:"blur(20px) saturate(150%)",padding:"28px",borderRadius:"16px",border:"2px solid rgba(239, 68, 68, 0.3)",boxShadow:"\n              0 8px 24px rgba(220, 38, 38, 0.2),\n              inset 0 1px 0 rgba(255, 255, 255, 0.3)\n            ",transition:"all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)",willChange:"transform, box-shadow"},children:[(0,v.jsx)("div",{style:{fontSize:"0.85em",color:"#1e293b",marginBottom:"12px",fontWeight:600,letterSpacing:"0.5px",textTransform:"uppercase"},children:"Inactivas"}),(0,v.jsx)("div",{style:{fontSize:"2.8em",fontWeight:800,color:"#dc2626",letterSpacing:"-1px",textShadow:"0 2px 4px rgba(220, 38, 38, 0.2)"},children:I.inactivas})]})]}),(0,v.jsxs)("div",{style:{background:"white",padding:"20px",borderRadius:"12px",border:"1px solid #e0e0e0",marginBottom:"24px"},children:[(0,v.jsx)("div",{style:{marginBottom:"16px"},children:(0,v.jsxs)("div",{style:{position:"relative"},children:[(0,v.jsx)(s.A,{size:20,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#999"}}),(0,v.jsx)("input",{type:"text",placeholder:"Buscar categor\xeda por nombre o palabras clave...",value:j,onChange:e=>k(e.target.value),style:{width:"100%",padding:"12px 12px 12px 44px",border:"2px solid rgba(30, 58, 138, 0.3)",borderRadius:"8px",fontSize:"14px",outline:"none"}})]})}),(0,v.jsxs)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",alignItems:"center"},children:[(0,v.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,v.jsx)(l.A,{size:18,color:"#666"}),(0,v.jsx)("span",{style:{fontSize:"14px",color:"#666"},children:"Tipo:"}),(0,v.jsxs)("select",{value:S,onChange:e=>w(e.target.value),style:{padding:"8px 12px",border:"2px solid rgba(30, 58, 138, 0.3)",borderRadius:"6px",fontSize:"14px",cursor:"pointer",color:"#1e293b"},children:[(0,v.jsx)("option",{value:"all",children:"Todas"}),(0,v.jsx)("option",{value:"sistema",children:"Sistema"}),(0,v.jsx)("option",{value:"manual",children:"Manuales"})]})]}),(0,v.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,v.jsx)("span",{style:{fontSize:"14px",color:"#666"},children:"Estado:"}),(0,v.jsxs)("select",{value:z,onChange:e=>C(e.target.value),style:{padding:"8px 12px",border:"2px solid rgba(30, 58, 138, 0.3)",borderRadius:"6px",fontSize:"14px",cursor:"pointer",color:"#1e293b"},children:[(0,v.jsx)("option",{value:"all",children:"Todas"}),(0,v.jsx)("option",{value:"active",children:"Activas"}),(0,v.jsx)("option",{value:"inactive",children:"Inactivas"})]})]}),(0,v.jsx)("div",{style:{flex:1}}),(0,v.jsxs)("button",{onClick:async()=>{try{await n.M.activateAllCategories(),await M()}catch(e){console.error("Error al activar todas:",e)}},style:{padding:"10px 16px",background:"#27ae60",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",transition:"background 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#229954",onMouseLeave:e=>e.currentTarget.style.background="#27ae60",children:[(0,v.jsx)(c,{size:18}),"Activar Todas"]}),(0,v.jsxs)("button",{onClick:async()=>{try{await n.M.deactivateAllCategories(),await M()}catch(e){console.error("Error al desactivar todas:",e)}},style:{padding:"10px 16px",background:"#e74c3c",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px",transition:"background 0.2s"},onMouseEnter:e=>e.currentTarget.style.background="#c0392b",onMouseLeave:e=>e.currentTarget.style.background="#e74c3c",children:[(0,v.jsx)(p,{size:18}),"Desactivar Todas"]})]})]}),(0,v.jsxs)("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e0e0e0",overflow:"hidden"},children:[(0,v.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"60px 1fr 120px 200px 120px 100px",gap:"16px",padding:"16px 20px",background:"#f8f9fa",borderBottom:"1px solid #e0e0e0",fontSize:"14px",fontWeight:600,color:"#666"},children:[(0,v.jsx)("div",{children:"Estado"}),(0,v.jsx)("div",{children:"Categor\xeda"}),(0,v.jsx)("div",{children:"Tipo"}),(0,v.jsx)("div",{children:"Palabras Clave"}),(0,v.jsx)("div",{style:{textAlign:"center"},children:"Subcategor\xedas"}),(0,v.jsx)("div",{style:{textAlign:"center"},children:"Acci\xf3n"})]}),(0,v.jsx)("div",{style:{maxHeight:"600px",overflowY:"auto"},children:0===W.length?(0,v.jsxs)("div",{style:{padding:"40px",textAlign:"center",color:"#999"},children:[(0,v.jsx)(s.A,{size:48,color:"#ddd",style:{marginBottom:"16px"}}),(0,v.jsx)("div",{children:"No se encontraron categor\xedas con los filtros aplicados"})]}):W.map((e,a)=>(0,v.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"60px 1fr 120px 200px 120px 100px",gap:"16px",padding:"16px 20px",borderBottom:a<W.length-1?"1px solid #f0f0f0":"none",alignItems:"center",transition:"background 0.15s",background:e.activa?"white":"#f8f9fa"},onMouseEnter:a=>a.currentTarget.style.background=e.activa?"#f8f9fa":"#ecf0f1",onMouseLeave:a=>a.currentTarget.style.background=e.activa?"white":"#f8f9fa",children:[(0,v.jsx)("div",{children:e.activa?(0,v.jsx)(x,{size:24,color:"#27ae60"}):(0,v.jsx)(g,{size:24,color:"#e74c3c"})}),(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{style:{fontWeight:600,fontSize:"15px",color:e.activa?"#2c3e50":"#95a5a6",marginBottom:"4px"},children:e.nombre}),e.descripcion&&(0,v.jsx)("div",{style:{fontSize:"13px",color:"#999"},children:e.descripcion})]}),(0,v.jsx)("div",{children:(0,v.jsx)("span",{style:{padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:600,background:"sistema"===e.tipo?"#e3f2fd":"#f3e5f5",color:"sistema"===e.tipo?"#1976d2":"#7b1fa2"},children:"sistema"===e.tipo?(0,v.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,v.jsx)(b,{size:14}),"Sistema"]}):(0,v.jsxs)("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,v.jsx)(u.A,{size:14}),"Manual"]})})}),(0,v.jsx)("div",{children:e.palabrasClave&&e.palabrasClave.length>0?(0,v.jsxs)("div",{style:{fontSize:"12px",color:"#666",display:"flex",flexWrap:"wrap",gap:"4px"},children:[e.palabrasClave.slice(0,3).map((e,a)=>(0,v.jsx)("span",{style:{background:"#e0e0e0",padding:"2px 6px",borderRadius:"4px",fontSize:"11px"},children:e},a)),e.palabrasClave.length>3&&(0,v.jsxs)("span",{style:{fontSize:"11px",color:"#999"},children:["+",e.palabrasClave.length-3]})]}):(0,v.jsx)("span",{style:{fontSize:"12px",color:"#999"},children:"-"})}),(0,v.jsx)("div",{style:{textAlign:"center"},children:(0,v.jsxs)("button",{onClick:()=>(async(e,a)=>{try{const r=await n.M.getSubcategoriesForCategory(e);A({categoryId:e,categoryName:a,subcategories:r})}catch(r){console.error("Error cargando subcategor\xedas:",r)}})(e.id,e.nombre),style:{background:"#f0f0f0",border:"1px solid #ddd",borderRadius:"8px",padding:"6px 12px",cursor:"pointer",fontSize:"12px",fontWeight:600,color:"#666",display:"flex",alignItems:"center",gap:"6px",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#e0e0e0",e.currentTarget.style.borderColor="#bbb"},onMouseLeave:e=>{e.currentTarget.style.background="#f0f0f0",e.currentTarget.style.borderColor="#ddd"},children:[(0,v.jsx)(h,{size:14}),e.subcategorias&&e.subcategorias.length>0?"".concat(e.subcategorias.length," sub"):"Editar"]})}),(0,v.jsx)("div",{style:{textAlign:"center"},children:(0,v.jsx)("button",{onClick:()=>(async(e,a)=>{try{await n.M.toggleCategory(e,!a),await M()}catch(r){console.error("Error al cambiar estado de categor\xeda:",r)}})(e.id,e.activa),style:{background:e.activa?"#27ae60":"#95a5a6",border:"none",borderRadius:"24px",padding:"8px 16px",cursor:"pointer",color:"white",fontSize:"13px",fontWeight:600,display:"inline-flex",alignItems:"center",gap:"6px",transition:"all 0.2s"},onMouseEnter:a=>{a.currentTarget.style.transform="scale(1.05)",a.currentTarget.style.background=e.activa?"#229954":"#7f8c8d"},onMouseLeave:a=>{a.currentTarget.style.transform="scale(1)",a.currentTarget.style.background=e.activa?"#27ae60":"#95a5a6"},children:e.activa?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(f.A,{size:16}),"ON"]}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(y.A,{size:16}),"OFF"]})})})]},e.id))})]}),(0,v.jsxs)("div",{style:{marginTop:"24px",padding:"16px",background:"#f8f9fa",borderRadius:"8px",fontSize:"13px",color:"#666",display:"flex",gap:"8px",alignItems:"start"},children:[(0,v.jsx)(i.A,{size:16,style:{marginTop:"2px",flexShrink:0}}),(0,v.jsxs)("div",{children:[(0,v.jsx)("strong",{children:"Nota:"}),' Los cambios se aplican inmediatamente. Las categor\xedas desactivadas no aparecer\xe1n en filtros ni gr\xe1ficos. Los carteles que pertenec\xedan a categor\xedas desactivadas se reclasificar\xe1n seg\xfan las categor\xedas activas restantes, o aparecer\xe1n en "Otros" si no coinciden con ninguna categor\xeda activa.']})]}),T&&(0,v.jsx)(m.E,{categoryName:T.categoryName,subcategories:T.subcategories,onSave:async e=>{if(T)try{await n.M.updateSubcategories(T.categoryId,e),A(null),await M()}catch(a){console.error("Error guardando subcategor\xedas:",a),alert("Error al guardar las subcategor\xedas")}},onCancel:()=>A(null)})]})]})}},8541:(e,a,r)=>{r.d(a,{A:()=>t});const t=(0,r(6230).A)("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]])},8732:(e,a,r)=>{r.d(a,{A:()=>t});const t=(0,r(6230).A)("toggle-right",[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]])}}]);