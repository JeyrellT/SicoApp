/*! For license information please see 493.bf94bde2.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunksicop_app=self.webpackChunksicop_app||[]).push([[493],{1493:(e,r,a)=>{a.r(r),a.d(r,{default:()=>p});var t=a(9379),i=a(9950),o=a(6615),n=a(1647),s=a(4414);const l={background:"linear-gradient(135deg, #ffffff 0%, #f8fafc 100%)",borderRadius:12,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",border:"1px solid rgba(226, 232, 240, 0.8)",padding:24,marginBottom:20,transition:"all 0.3s ease"},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"secondary";return{background:"primary"===e?"linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)":"danger"===e?"linear-gradient(135deg, #ef4444 0%, #dc2626 100%)":"#e5e7eb",color:"secondary"!==e?"#fff":"#111827",border:"none",borderRadius:8,padding:"10px 18px",cursor:"pointer",marginRight:10,fontWeight:600,fontSize:14,transition:"all 0.3s ease",boxShadow:"secondary"!==e?"0 2px 4px rgba(0, 0, 0, 0.1)":"none"}},c={display:"inline-flex",alignItems:"center",gap:6,padding:"6px 12px",borderRadius:20,fontSize:13,fontWeight:600,margin:"4px 6px 4px 0"};function p(e){let{rules:r,groups:a,institucionesOptions:d,onStartNew:c,onSaveRule:p,onRemoveRule:h,onCreateGroup:b,onAddRuleToGroup:f,onRemoveRuleFromGroup:y}=e;const[m,v]=(0,i.useState)(""),[j,C]=(0,i.useState)(null),[S,A]=(0,i.useState)(""),[k,w]=(0,i.useState)([]),[z,R]=(0,i.useState)(!1),[B,W]=(0,i.useState)(null),T=(0,i.useMemo)(()=>{const e=m.trim().toLowerCase();return e?r.filter(r=>r.nombre.toLowerCase().includes(e)||(r.descripcion||"").toLowerCase().includes(e)||r.palabrasClave.some(r=>r.toLowerCase().includes(e))):r},[r,m]),N=e=>{C(e?(0,t.A)({},e):c()),R(!1),w([])};return(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{style:(0,t.A)((0,t.A)({},l),{},{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",marginBottom:24}),children:(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{style:{margin:"0 0 8px 0",fontSize:28,fontWeight:700},children:"\ud83c\udff7\ufe0f Gesti\xf3n de Categor\xedas Manuales"}),(0,s.jsxs)("div",{style:{opacity:.95,fontSize:16},children:[r.length," categor\xedas creadas | ",a.length," grupos organizados"]})]}),(0,s.jsx)("button",{onClick:()=>N(),style:{background:"rgba(255, 255, 255, 0.2)",color:"white",border:"2px solid white",borderRadius:10,padding:"12px 24px",cursor:"pointer",fontSize:16,fontWeight:700,transition:"all 0.3s ease"},onMouseEnter:e=>e.currentTarget.style.background="rgba(255, 255, 255, 0.3)",onMouseLeave:e=>e.currentTarget.style.background="rgba(255, 255, 255, 0.2)",children:"\u2795 Nueva Categor\xeda"})]})}),j&&(0,s.jsx)(x,{rule:j,onChange:C,onSave:()=>{j&&(j.nombre.trim()?0!==j.palabrasClave.length?(p(j),C(null),R(!1),w([])):alert("Debes agregar al menos una palabra clave"):alert("El nombre de la categor\xeda es obligatorio"))},onCancel:()=>{C(null),R(!1),w([])},onPreview:()=>{if(!j||0===j.palabrasClave.length)return void alert("Agrega palabras clave para previsualizar");const e=o.M.sugerirDesdeKeywords({palabras:j.palabrasClave,instituciones:j.instituciones,limit:30});w(e),R(!0)},showPreview:z,previewSuggestions:k,institucionesOptions:d}),!j&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:l,children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"between",alignItems:"center",marginBottom:20},children:[(0,s.jsxs)("h3",{style:{margin:0,fontSize:20,fontWeight:700},children:["\ud83d\udccb Mis Categor\xedas (",T.length,")"]}),(0,s.jsx)("input",{type:"text",placeholder:"\ud83d\udd0d Buscar categor\xedas...",value:m,onChange:e=>v(e.target.value),style:{flex:1,maxWidth:400,marginLeft:20,padding:"12px 16px",border:"2px solid #e5e7eb",borderRadius:10,fontSize:15,transition:"border-color 0.3s ease"},onFocus:e=>e.target.style.borderColor="#3b82f6",onBlur:e=>e.target.style.borderColor="#e5e7eb"})]}),(0,s.jsxs)("div",{style:{display:"grid",gap:16},children:[T.map(e=>(0,s.jsx)(g,{rule:e,onEdit:()=>N(e),onDelete:()=>h(e.id),onEditSubcategories:()=>{W({categoryId:e.id,categoryName:e.nombre,subcategories:e.subcategorias||[]})}},e.id)),0===T.length&&(0,s.jsxs)("div",{style:{textAlign:"center",padding:60,color:"#9ca3af"},children:[(0,s.jsx)("div",{style:{fontSize:48,marginBottom:16},children:"\ud83d\udd0d"}),(0,s.jsx)("div",{style:{fontSize:18,fontWeight:600},children:m?"No se encontraron categor\xedas":"No hay categor\xedas creadas"}),(0,s.jsx)("div",{style:{fontSize:14,marginTop:8},children:m?"Intenta con otro t\xe9rmino de b\xfasqueda":'Haz clic en "Nueva Categor\xeda" para comenzar'})]})]})]}),(0,s.jsx)(u,{groups:a,rules:r,onCreateGroup:e=>{b(e),A("")},onAddRuleToGroup:f,onRemoveRuleFromGroup:y,newGroupName:S,onSetNewGroupName:A})]}),B&&(0,s.jsx)(n.E,{categoryName:B.categoryName,subcategories:B.subcategories,onSave:async e=>{const a=r.find(e=>e.id===B.categoryId);if(a){const r=(0,t.A)((0,t.A)({},a),{},{subcategorias:e});p(r)}W(null)},onCancel:()=>W(null)})]})}function g(e){let{rule:r,onEdit:a,onDelete:i,onEditSubcategories:o}=e;return(0,s.jsxs)("div",{style:{background:"white",border:"2px solid #e5e7eb",borderRadius:12,padding:20,transition:"all 0.3s ease",cursor:"pointer"},onMouseEnter:e=>{e.currentTarget.style.borderColor=r.color||"#3b82f6",e.currentTarget.style.boxShadow="0 4px 12px ".concat(r.color||"#3b82f6","33")},onMouseLeave:e=>{e.currentTarget.style.borderColor="#e5e7eb",e.currentTarget.style.boxShadow="none"},onClick:a,children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:12},children:[(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:8},children:[(0,s.jsx)("div",{style:{width:12,height:12,borderRadius:"50%",background:r.color||"#3b82f6",boxShadow:"0 0 10px ".concat(r.color||"#3b82f6","66")}}),(0,s.jsx)("h4",{style:{margin:0,fontSize:18,fontWeight:700,color:"#1f2937"},children:r.nombre}),!r.activo&&(0,s.jsx)("span",{style:(0,t.A)((0,t.A)({},c),{},{background:"#fef2f2",color:"#991b1b",fontSize:11}),children:"Inactiva"})]}),r.descripcion&&(0,s.jsx)("div",{style:{color:"#6b7280",fontSize:14,marginBottom:12},children:r.descripcion})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:8},onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("button",{onClick:a,style:(0,t.A)((0,t.A)({},d("primary")),{},{padding:"8px 16px",marginRight:0}),children:"\u270f\ufe0f Editar"}),(0,s.jsxs)("button",{onClick:o,style:(0,t.A)((0,t.A)({},d("secondary")),{},{padding:"8px 16px",marginRight:0,fontSize:12}),children:["\ud83d\udcd1 Subcategor\xedas ",r.subcategorias&&r.subcategorias.length>0?"(".concat(r.subcategorias.length,")"):""]}),(0,s.jsx)("button",{onClick:i,style:(0,t.A)((0,t.A)({},d("danger")),{},{padding:"8px 16px",marginRight:0}),children:"\ud83d\uddd1\ufe0f"})]})]}),(0,s.jsxs)("div",{style:{marginBottom:12},children:[(0,s.jsxs)("div",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:6},children:["PALABRAS CLAVE (",r.palabrasClave.length,")"]}),(0,s.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:[r.palabrasClave.slice(0,10).map(e=>(0,s.jsx)("span",{style:(0,t.A)((0,t.A)({},c),{},{background:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",color:"white",fontSize:12,padding:"4px 12px",margin:0}),children:e},e)),r.palabrasClave.length>10&&(0,s.jsxs)("span",{style:(0,t.A)((0,t.A)({},c),{},{background:"#f3f4f6",color:"#6b7280",fontSize:12,padding:"4px 12px",margin:0}),children:["+",r.palabrasClave.length-10," m\xe1s"]})]})]}),r.instituciones&&r.instituciones.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{fontSize:12,fontWeight:600,color:"#6b7280",marginBottom:6},children:["INSTITUCIONES (",r.instituciones.length,")"]}),(0,s.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:[r.instituciones.slice(0,5).map(e=>(0,s.jsx)("span",{style:(0,t.A)((0,t.A)({},c),{},{background:"#ecfeff",color:"#0e7490",fontSize:11,padding:"4px 10px",margin:0}),children:e},e)),r.instituciones.length>5&&(0,s.jsxs)("span",{style:(0,t.A)((0,t.A)({},c),{},{background:"#f3f4f6",color:"#6b7280",fontSize:11,padding:"4px 10px",margin:0}),children:["+",r.instituciones.length-5," m\xe1s"]})]})]})]})}function x(e){var r;let{rule:a,onChange:o,onSave:n,onCancel:p,onPreview:g,showPreview:x,previewSuggestions:u,institucionesOptions:h}=e;const[b,f]=(0,i.useState)(""),[y,m]=(0,i.useState)(""),v=()=>{const e=b.trim().toLowerCase();e&&(a.palabrasClave.includes(e)?alert("Esta palabra clave ya existe"):(o((0,t.A)((0,t.A)({},a),{},{palabrasClave:[...a.palabrasClave,e]})),f("")))};return(0,s.jsxs)("div",{style:(0,t.A)((0,t.A)({},l),{},{background:"linear-gradient(135deg, #eff6ff 0%, #dbeafe 100%)",border:"2px solid #3b82f6",marginBottom:24}),children:[(0,s.jsxs)("div",{style:{marginBottom:24},children:[(0,s.jsx)("h3",{style:{margin:"0 0 8px 0",fontSize:24,fontWeight:700,color:"#1e40af"},children:a.id.length>10?"\u270f\ufe0f Editar Categor\xeda":"\u2795 Nueva Categor\xeda"}),(0,s.jsx)("div",{style:{color:"#3b82f6",fontSize:14},children:'Completa los campos y haz clic en "Vista Previa" para ver ejemplos'})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:x?"1fr 1fr":"1fr",gap:24},children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr auto",gap:16,marginBottom:20},children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:600,color:"#374151"},children:"Nombre de la Categor\xeda *"}),(0,s.jsx)("input",{type:"text",value:a.nombre,onChange:e=>o((0,t.A)((0,t.A)({},a),{},{nombre:e.target.value})),placeholder:"Ej: Equipo de C\xf3mputo",style:{width:"100%",padding:"12px 16px",border:"2px solid #e5e7eb",borderRadius:8,fontSize:15,fontWeight:600}})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:600,color:"#374151"},children:"Color"}),(0,s.jsx)("input",{type:"color",value:a.color||"#3b82f6",onChange:e=>o((0,t.A)((0,t.A)({},a),{},{color:e.target.value})),style:{width:60,height:46,border:"2px solid #e5e7eb",borderRadius:8,cursor:"pointer"}})]})]}),(0,s.jsxs)("div",{style:{marginBottom:20},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:600,color:"#374151"},children:"Descripci\xf3n (opcional)"}),(0,s.jsx)("textarea",{value:a.descripcion||"",onChange:e=>o((0,t.A)((0,t.A)({},a),{},{descripcion:e.target.value})),placeholder:"Describe el prop\xf3sito de esta categor\xeda...",rows:3,style:{width:"100%",padding:"12px 16px",border:"2px solid #e5e7eb",borderRadius:8,fontSize:14,resize:"vertical"}})]}),(0,s.jsxs)("div",{style:{marginBottom:20},children:[(0,s.jsxs)("label",{style:{display:"block",marginBottom:8,fontWeight:600,color:"#374151"},children:["Palabras Clave * (",a.palabrasClave.length,")"]}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:12},children:[(0,s.jsx)("input",{type:"text",value:b,onChange:e=>f(e.target.value),onKeyPress:e=>"Enter"===e.key&&v(),placeholder:"Ej: computadora, laptop, pc...",style:{flex:1,padding:"12px 16px",border:"2px solid #e5e7eb",borderRadius:8,fontSize:14}}),(0,s.jsx)("button",{onClick:v,style:d("primary"),children:"\u2795 Agregar"})]}),(0,s.jsxs)("div",{style:{minHeight:80,background:"white",border:"2px dashed #d1d5db",borderRadius:8,padding:12,display:"flex",flexWrap:"wrap",gap:8,alignContent:"flex-start"},children:[a.palabrasClave.map(e=>(0,s.jsxs)("span",{style:(0,t.A)((0,t.A)({},c),{},{background:"linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%)",color:"white",cursor:"pointer",margin:0}),onClick:()=>(e=>{o((0,t.A)((0,t.A)({},a),{},{palabrasClave:a.palabrasClave.filter(r=>r!==e)}))})(e),children:[e," ",(0,s.jsx)("span",{style:{marginLeft:6},children:"\xd7"})]},e)),0===a.palabrasClave.length&&(0,s.jsx)("div",{style:{color:"#9ca3af",fontSize:13,fontStyle:"italic"},children:"Agrega palabras clave para identificar esta categor\xeda"})]})]}),(0,s.jsxs)("div",{style:{marginBottom:20},children:[(0,s.jsx)("label",{style:{display:"block",marginBottom:8,fontWeight:600,color:"#374151"},children:"Filtrar por Instituciones (opcional)"}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:12},children:[(0,s.jsxs)("select",{value:y,onChange:e=>m(e.target.value),style:{flex:1,padding:"12px 16px",border:"2px solid #e5e7eb",borderRadius:8,fontSize:14,cursor:"pointer"},children:[(0,s.jsx)("option",{value:"",children:"Selecciona una instituci\xf3n..."}),h.slice(0,100).map(e=>(0,s.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,s.jsx)("button",{onClick:()=>{if(!y)return;const e=a.instituciones||[],r=e.includes(y);o((0,t.A)((0,t.A)({},a),{},{instituciones:r?e.filter(e=>e!==y):[...e,y]}))},disabled:!y,style:(0,t.A)((0,t.A)({},d("primary")),{},{opacity:y?1:.5,cursor:y?"pointer":"not-allowed"}),children:null!==(r=a.instituciones)&&void 0!==r&&r.includes(y)?"\u2796 Quitar":"\u2795 Agregar"})]}),a.instituciones&&a.instituciones.length>0&&(0,s.jsx)("div",{style:{background:"white",border:"2px solid #e5e7eb",borderRadius:8,padding:12,display:"flex",flexWrap:"wrap",gap:8},children:a.instituciones.map(e=>(0,s.jsxs)("span",{style:(0,t.A)((0,t.A)({},c),{},{background:"#ecfeff",color:"#0e7490",cursor:"pointer",margin:0}),onClick:()=>o((0,t.A)((0,t.A)({},a),{},{instituciones:a.instituciones.filter(r=>r!==e)})),children:[e," ",(0,s.jsx)("span",{style:{marginLeft:6},children:"\xd7"})]},e))})]}),(0,s.jsx)("div",{style:{marginBottom:24},children:(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:12,cursor:"pointer"},children:[(0,s.jsx)("input",{type:"checkbox",checked:a.activo,onChange:e=>o((0,t.A)((0,t.A)({},a),{},{activo:e.target.checked})),style:{width:20,height:20,cursor:"pointer"}}),(0,s.jsx)("span",{style:{fontWeight:600,color:"#374151"},children:"Categor\xeda activa"})]})}),(0,s.jsxs)("div",{style:{display:"flex",gap:12,paddingTop:20,borderTop:"2px solid #e5e7eb"},children:[(0,s.jsx)("button",{onClick:n,style:(0,t.A)((0,t.A)({},d("primary")),{},{flex:1,padding:"14px"}),children:"\ud83d\udcbe Guardar Categor\xeda"}),(0,s.jsx)("button",{onClick:g,style:(0,t.A)((0,t.A)({},d("secondary")),{},{padding:"14px"}),children:"\ud83d\udc41\ufe0f Vista Previa"}),(0,s.jsx)("button",{onClick:p,style:(0,t.A)((0,t.A)({},d("secondary")),{},{padding:"14px"}),children:"\u274c Cancelar"})]})]}),x&&(0,s.jsxs)("div",{children:[(0,s.jsxs)("h4",{style:{margin:"0 0 16px 0",fontSize:18,fontWeight:700,color:"#374151"},children:["\ud83d\udccb Vista Previa (",u.length," resultados)"]}),(0,s.jsxs)("div",{style:{maxHeight:600,overflow:"auto",background:"white",borderRadius:8,border:"2px solid #e5e7eb",padding:16},children:[u.slice(0,20).map((e,r)=>(0,s.jsxs)("div",{style:{padding:12,marginBottom:12,background:"#f9fafb",borderRadius:8,border:"1px solid #e5e7eb"},children:[(0,s.jsx)("div",{style:{fontWeight:600,marginBottom:6,color:"#3b82f6"},children:e.numeroCartel}),(0,s.jsxs)("div",{style:{fontSize:13,color:"#374151",marginBottom:6},children:[e.texto.slice(0,150),"..."]}),(0,s.jsxs)("div",{style:{display:"flex",gap:4,flexWrap:"wrap"},children:[e.coincidencias.map(e=>(0,s.jsxs)("span",{style:(0,t.A)((0,t.A)({},c),{},{background:"#22c55e",color:"white",fontSize:10,padding:"2px 8px",margin:0}),children:["\u2713 ",e]},e)),(0,s.jsxs)("span",{style:(0,t.A)((0,t.A)({},c),{},{background:"#fef3c7",color:"#92400e",fontSize:10,padding:"2px 8px",margin:0}),children:[(100*e.score).toFixed(0),"%"]})]})]},r)),0===u.length&&(0,s.jsxs)("div",{style:{textAlign:"center",padding:40,color:"#9ca3af"},children:[(0,s.jsx)("div",{style:{fontSize:36,marginBottom:12},children:"\ud83d\udd0d"}),(0,s.jsx)("div",{children:"No se encontraron resultados con estas palabras clave"})]})]})]})]})]})}function u(e){let{groups:r,rules:a,onCreateGroup:i,onAddRuleToGroup:o,onRemoveRuleFromGroup:n,newGroupName:p,onSetNewGroupName:g}=e;return(0,s.jsxs)("div",{style:l,children:[(0,s.jsx)("h3",{style:{margin:"0 0 20px 0",fontSize:20,fontWeight:700},children:"\ud83d\udcc1 Grupos de Categor\xedas"}),(0,s.jsxs)("div",{style:{display:"flex",gap:8,marginBottom:20},children:[(0,s.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),onKeyPress:e=>"Enter"===e.key&&i(p),placeholder:"Nombre del nuevo grupo...",style:{flex:1,padding:"12px 16px",border:"2px solid #e5e7eb",borderRadius:8,fontSize:14}}),(0,s.jsx)("button",{onClick:()=>i(p),style:d("primary"),children:"\u2795 Crear Grupo"})]}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:16},children:[r.map(e=>(0,s.jsxs)("div",{style:{background:"white",border:"2px solid #e5e7eb",borderRadius:12,padding:16},children:[(0,s.jsxs)("h4",{style:{margin:"0 0 12px 0",fontSize:16,fontWeight:700,color:"#1f2937"},children:["\ud83d\udcc1 ",e.nombre]}),(0,s.jsxs)("div",{style:{marginBottom:12},children:[(e.categorias||[]).map(r=>{const i=a.find(e=>e.id===r);return i?(0,s.jsxs)("span",{style:(0,t.A)((0,t.A)({},c),{},{background:"#ecfccb",color:"#3f6212",cursor:"pointer",margin:"4px 4px 4px 0"}),onClick:()=>n(e.id,r),children:[i.nombre," ",(0,s.jsx)("span",{style:{marginLeft:6},children:"\xd7"})]},r):null}),0===(e.categorias||[]).length&&(0,s.jsx)("div",{style:{color:"#9ca3af",fontSize:13,fontStyle:"italic"},children:"Sin categor\xedas asignadas"})]}),(0,s.jsxs)("select",{onChange:r=>{r.target.value&&(o(e.id,r.target.value),r.target.value="")},defaultValue:"",style:{width:"100%",padding:"8px 12px",border:"2px solid #e5e7eb",borderRadius:6,fontSize:13,cursor:"pointer"},children:[(0,s.jsx)("option",{value:"",disabled:!0,children:"\u2795 A\xf1adir categor\xeda..."}),a.filter(r=>!(e.categorias||[]).includes(r.id)).map(e=>(0,s.jsx)("option",{value:e.id,children:e.nombre},e.id))]})]},e.id)),0===r.length&&(0,s.jsxs)("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:40,color:"#9ca3af"},children:[(0,s.jsx)("div",{style:{fontSize:36,marginBottom:12},children:"\ud83d\udcc1"}),(0,s.jsx)("div",{children:"No hay grupos creados"}),(0,s.jsx)("div",{style:{fontSize:13,marginTop:8},children:"Crea grupos para organizar tus categor\xedas"})]})]})]})}},1647:(e,r,a)=>{a.d(r,{E:()=>x});var t=a(9379),i=a(9950),o=a(6479),n=a(6230);const s=(0,n.A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var l=a(8732),d=a(8541),c=a(4814);const p=(0,n.A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var g=a(4414);const x=e=>{let{categoryName:r,subcategories:a,onSave:n,onCancel:x}=e;const[u,h]=(0,i.useState)(a.length>0?a:[]),[b,f]=(0,i.useState)(null),y=(e,r)=>{h(u.map(a=>a.id===e?(0,t.A)((0,t.A)({},a),r):a))};return(0,g.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px"},children:(0,g.jsxs)("div",{style:{background:"white",borderRadius:"16px",maxWidth:"900px",width:"100%",maxHeight:"90vh",display:"flex",flexDirection:"column",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[(0,g.jsxs)("div",{style:{padding:"24px",borderBottom:"1px solid #e0e0e0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,g.jsxs)("div",{children:[(0,g.jsx)("h2",{style:{margin:0,fontSize:"24px",fontWeight:700},children:"Editar Subcategor\xedas"}),(0,g.jsxs)("div",{style:{fontSize:"14px",color:"#666",marginTop:"4px"},children:["Categor\xeda: ",(0,g.jsx)("strong",{children:r})]})]}),(0,g.jsx)("button",{onClick:x,style:{background:"transparent",border:"none",cursor:"pointer",padding:"8px"},children:(0,g.jsx)(o.A,{size:24,color:"#666"})})]}),(0,g.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:[(0,g.jsxs)("div",{style:{background:"#e3f2fd",border:"1px solid #2196f3",borderRadius:"8px",padding:"16px",marginBottom:"24px",fontSize:"14px"},children:[(0,g.jsx)("strong",{children:"\ud83d\udca1 Subcategor\xedas:"})," Permiten una clasificaci\xf3n m\xe1s detallada dentro de esta categor\xeda. Define palabras clave espec\xedficas para cada subcategor\xeda."]}),(0,g.jsxs)("button",{onClick:()=>{const e={id:"subcat_".concat(Date.now(),"_").concat(Math.random().toString(36).slice(2,9)),nombre:"",palabrasClave:[],activa:!0};h([...u,e]),f(e.id)},style:{width:"100%",padding:"12px",background:"#f0f0f0",border:"2px dashed #ccc",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",color:"#666",fontWeight:600,marginBottom:"16px",transition:"all 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#e0e0e0",e.currentTarget.style.borderColor="#999"},onMouseLeave:e=>{e.currentTarget.style.background="#f0f0f0",e.currentTarget.style.borderColor="#ccc"},children:[(0,g.jsx)(s,{size:20}),"Agregar Subcategor\xeda"]}),(0,g.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:0===u.length?(0,g.jsx)("div",{style:{padding:"40px",textAlign:"center",color:"#999",fontSize:"14px"},children:'No hay subcategor\xedas definidas. Haz clic en "Agregar Subcategor\xeda" para crear una.'}):u.map(e=>(0,g.jsx)("div",{style:{background:e.activa?"white":"#f8f9fa",border:"1px solid #e0e0e0",borderRadius:"8px",padding:"16px"},children:(0,g.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"start"},children:[(0,g.jsxs)("button",{onClick:()=>{return r=e.id,void h(u.map(e=>e.id===r?(0,t.A)((0,t.A)({},e),{},{activa:!e.activa}):e));var r},style:{background:e.activa?"#27ae60":"#95a5a6",border:"none",borderRadius:"20px",padding:"6px 12px",cursor:"pointer",color:"white",fontSize:"12px",fontWeight:600,display:"flex",alignItems:"center",gap:"4px",flexShrink:0},children:[e.activa?(0,g.jsx)(l.A,{size:16}):(0,g.jsx)(d.A,{size:16}),e.activa?"ON":"OFF"]}),(0,g.jsxs)("div",{style:{flex:1},children:[(0,g.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,g.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#666",marginBottom:"4px"},children:"Nombre de Subcategor\xeda"}),(0,g.jsx)("input",{type:"text",value:e.nombre,onChange:r=>y(e.id,{nombre:r.target.value}),placeholder:"Ej: Software de Oficina",style:{width:"100%",padding:"8px 12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px",outline:"none"}})]}),(0,g.jsxs)("div",{children:[(0,g.jsx)("label",{style:{display:"block",fontSize:"13px",fontWeight:600,color:"#666",marginBottom:"4px"},children:"Palabras Clave (separadas por comas)"}),(0,g.jsx)("input",{type:"text",value:e.palabrasClave.join(", "),onChange:r=>((e,r)=>{const a=r.split(",").map(e=>e.trim()).filter(Boolean);y(e,{palabrasClave:a})})(e.id,r.target.value),placeholder:"office, word, excel, powerpoint",style:{width:"100%",padding:"8px 12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px",outline:"none"}}),e.palabrasClave.length>0&&(0,g.jsx)("div",{style:{marginTop:"8px",display:"flex",flexWrap:"wrap",gap:"4px"},children:e.palabrasClave.map((e,r)=>(0,g.jsx)("span",{style:{background:"#e0e0e0",padding:"4px 8px",borderRadius:"4px",fontSize:"12px",color:"#333"},children:e},r))})]})]}),(0,g.jsx)("button",{onClick:()=>{return r=e.id,void h(u.filter(e=>e.id!==r));var r},style:{background:"transparent",border:"none",cursor:"pointer",color:"#e74c3c",padding:"8px",flexShrink:0},title:"Eliminar subcategor\xeda",children:(0,g.jsx)(c.A,{size:20})})]})},e.id))})]}),(0,g.jsxs)("div",{style:{padding:"24px",borderTop:"1px solid #e0e0e0",display:"flex",justifyContent:"flex-end",gap:"12px"},children:[(0,g.jsxs)("button",{onClick:x,style:{padding:"10px 20px",background:"#e0e0e0",color:"#333",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px"},children:[(0,g.jsx)(o.A,{size:18}),"Cancelar"]}),(0,g.jsxs)("button",{onClick:()=>{u.every(e=>""!==e.nombre.trim())?n(u):alert("Todas las subcategor\xedas deben tener un nombre")},style:{padding:"10px 20px",background:"#2196f3",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:600,display:"flex",alignItems:"center",gap:"8px"},children:[(0,g.jsx)(p,{size:18}),"Guardar Subcategor\xedas"]})]})]})})}},8541:(e,r,a)=>{a.d(r,{A:()=>t});const t=(0,a(6230).A)("toggle-left",[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]])},8732:(e,r,a)=>{a.d(r,{A:()=>t});const t=(0,a(6230).A)("toggle-right",[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]])}}]);